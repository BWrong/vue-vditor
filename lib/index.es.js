var e=Object.defineProperty,t=Object.defineProperties,o=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,n=(t,o,l)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[o]=l,d=(e,t)=>{for(var o in t||(t={}))r.call(t,o)&&n(e,o,t[o]);if(l)for(var o of l(t))i.call(t,o)&&n(e,o,t[o]);return e},a=(e,l)=>t(e,o(l));import u from"vditor";import{defineComponent as c,ref as s,computed as p,onMounted as m,toRaw as f,watch as v,h as b}from"vue-demi";const w={simple:["emoji","headings","bold","italic","strike","link","|","list","ordered-list","check","outdent","indent","|","quote","line","code","inline-code","insert-before","insert-after","|","table"],full:["emoji","headings","bold","italic","strike","link","|","list","ordered-list","check","outdent","indent","|","quote","line","code","inline-code","insert-before","insert-after","|","upload","record","table","|","undo","redo","|","fullscreen","edit-mode","|","content-theme","code-theme",{name:"more",toolbar:["both","export","outline","preview","devtools"]}],mobile:["emoji","link","upload","edit-mode",{name:"more",toolbar:["insert-after","fullscreen","preview"]}]};var V=c({emits:["update:modelValue","after","focus","blur","esc","ctrlEnter","select"],props:{mode:{type:String,default:"full"},options:{type:Object,default:()=>{}},modelValue:{type:String,default:""}},setup(e,{emit:t}){var o;let l="vue-vditor-"+(window._VUE_VDITOR_ID=window._VUE_VDITOR_ID||0,window._VUE_VDITOR_ID++);const r=s(null),i=s(null),n=p((()=>w[e.mode]));let c=d({actions:["desktop","tablet","mobile"]},(null==(o=null==e?void 0:e.options)?void 0:o.preview)||{});return m((()=>{var o;r.value=new u(i.value,a(d({toolbar:n.value},e.options),{preview:c,cache:a(d({},(null==(o=null==e?void 0:e.options)?void 0:o.cache)||{}),{id:l}),value:e.modelValue,after(){t("after",f(r.value))},input(e){t("update:modelValue",e)},focus(e){t("focus",e)},blur(e){t("blur",e)},esc(e){t("esc",e)},ctrlEnter(e){t("ctrlEnter",e)},select(e){t("select",e)}}))})),v((()=>e.modelValue),(e=>{var t;return null==(t=r.value)?void 0:t.setValue(e)})),{editorRef:i}},render:()=>b("div",{ref:"editorRef",class:"vue-vditor"})}),O={install(e){e.component("VueVditor",V)}};export default O;
